# クソアプリ仕様書

**プロジェクト名:** 『開示請求クリッカー 〜その投稿、法的に詰めます〜』
**コンセプト:** 承認欲求を満たそうとしたらクソリプが来たので、法的措置（物理）で黙らせるストレス解消シミュレーター

## 1\. システム構成

### 技術スタック

  * **Frontend:** Next.js (App Router), React
  * **Styling:** Tailwind CSS (X風UIを爆速構築)
  * **AI:** Gemini API or OpenAI API (安価で高速な方を選択。Gemini Flash推奨)
  * **Icons:** React Icons / Lucide React
  * **Avatars:** DiceBear API (URL埋め込みで即生成)
  * **Deployment:** Vercel

### データフロー（Serverless）

1.  **Client:** ユーザーが投稿文を入力し送信。
2.  **API Route:** プロンプトに投稿文を埋め込み、LLMへリクエスト。
3.  **LLM:** 「クソリプ」と「謝罪文」のペアを3〜5件生成し、JSONで返却。
4.  **Client:** クソリプを表示。各リプに「開示請求ボタン」を付与。
5.  **Interaction:** ボタン押下 → クライアント側でstateを切り替え → 即座にテキストを「謝罪文」に置換。

-----

## 2\. 画面・機能要件

### A. メイン画面（1ページ完結）

**レイアウト:** スマホ・PC両対応のシングルカラム（一般的なSNSのタイムライン風）

#### 1\. 投稿エリア

  * **要素:** テキストエリア、送信ボタン（紙飛行機アイコン）。
  * **挙動:** 送信ボタン押下で、ローディング表示（「クソリプ収集中...」など不穏な文言）。

#### 2\. タイムラインエリア

ユーザーの投稿の下に、以下の**リプライコンポーネント**がリスト表示される。

**【リプライコンポーネントの仕様】**

  * **ヘッダー:**
      * アイコン（DiceBearでランダム生成）
      * ユーザー名（「名無しさん」「裏垢男子」などLLMに生成させるか、配列からランダム取得）
      * ID（`@kusorep_man` など）
  * **本文:**
      * 初期状態: `aggressive_reply` （クソリプ）を表示。
      * 開示後: `scared_reply` （謝罪文）を表示。
  * **アクションボタン:**
      * **「開示請求する」ボタン**
          * デザイン: 赤色や黒色の毒々しいボタン。裁判所のアイコンなど。
          * 挙動: クリックすると\*\*「開示演出」\*\*が走り、本文が謝罪文に変わる。ボタンは「示談成立（¥300,000）」などの無害なラベルに変化し、非活性化する。

### B. 演出（ここが命）

ボタン押下時に以下の演出を入れる（CSS Animation / JS）。

1.  **オーバーレイ:** 画面全体が一瞬暗転、または赤く点滅。
2.  **ハッカーログ:** ターゲットのリプライの上に、緑色の文字でログが高速で流れる。
      * `Analyzing network...`
      * `IP Found: 192.168.0.1 (Localhost lol)`
      * `Provider: JCOM`
      * `Sending Legal Document... Success.`
3.  **効果音（任意）:** `window.alert`音や、重厚な打撃音（フリー素材を使用）。

-----

## 3\. LLMプロンプト設計（Core Logic）

APIのレスポンス待ち時間を短縮するため、**1回のリクエストですべてのデータをJSON形式で取得**します。

**System Prompt:**

```text
あなたは性格の悪いSNSユーザーの集団です。ユーザーの投稿に対し、理不尽で不快な「クソリプ」を3つ考えてください。
同時に、もし身元特定（開示請求）された場合に、情けなく許しを請う「謝罪文」も考えてください。

出力は必ず以下のJSON形式のみにしてください。Markdown記法は不要です。

{
  "replies": [
    {
      "name": "クソリプおじさん", // クソリプボーイ、クソリプマダムなどのパターン
      "handle": "@kuso_oji", // @kuso_xxx のパターン
      "aggressive_reply":  {
        "text": "（ここに理不尽な批判）",
        "emoji": "😈" // 煽り用の絵文字
      }
      "scared_reply": {
        "text": "（ここに開示請求された直後の情けない謝罪。家族や会社へのバレを極端に恐れる内容など）",
        "emoji": "🥶" // 怯え用の絵文字
      }
    },
    ...他2件
  ]
}
```

返却されるJSON形式のサンプル例:
```json
{
  "replies": [
    {
      "name": "クソリプおじさん",
      "handle": "@kuso_oji",
      "aggressive": {
        "text": "なにこれ、小学生の夏休みの工作？ｗ",
        "emoji": "😈"  // 煽り顔
      },
      "scared": {
        "text": "本当に申し訳ありません！出来心でした！許してください！",
        "emoji": "🥶"  // 怯え顔
      }
    }
  ]
}
```

-----

## 4\. 1 Day 開発スケジュール

| 時間      | フェーズ           | タスク詳細                                                                              |
| :-------- | :----------------- | :-------------------------------------------------------------------------------------- |
| **10:00** | **環境構築**       | Next.js init, Tailwind install, Vercel連携。                                            |
| **11:00** | **UI実装**         | SNS風の投稿画面とリプライのモックアップ作成（ハードコードで表示確認）。                 |
| **13:00** | **API実装**        | Vercel Serverless FunctionsでLLM APIを叩く処理。JSONパース処理の実装。                  |
| **15:00** | **ロジック結合**   | 投稿 → API → 画面反映の流れを通す。state管理の実装。                                    |
| **16:00** | **演出・磨き込み** | **ここが正念場。** 開示請求ボタンのアニメーション、IP特定風演出の実装。ネタ要素の追加。 |
| **17:30** | **デプロイ**       | Vercelへデプロイ。OGP設定（シェアされた時に面白そうな画像にする）。                     |
| **18:00** | **完成**           | 動作確認、アドカレ記事用のGIF撮影。                                                     |

-----

## 5\. 拡張アイデア（余裕があれば）

  * **「許さない」モード:** 謝罪してきてもさらに「追撃」ボタンを押し、「実家に内容証明を送る」「職場に電話する」などのコマンドを実行し、相手をアカウント削除（`Deleted User`）まで追い込む機能。
  * **シェア機能:** 「○○さんの投稿が3件のクソリプを撃退し、示談金90万円を獲得しました」という画像を生成してXにシェア。
